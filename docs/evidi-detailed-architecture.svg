<svg viewBox="0 0 1400 1050" xmlns="http://www.w3.org/2000/svg">
  <!-- Définitions des styles -->
  <defs>
    <!-- Dégradés -->
    <linearGradient id="reactGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#61DAFB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00D8FF;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="fastApiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#009688;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00BFA5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="mongoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#47A248;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4DB33D;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="n8nGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#EA4B71;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FF6B6B;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="geminiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4285F4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8AB4F8;stop-opacity:1" />
    </linearGradient>
    
    <!-- Ombres -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.25"/>
    </filter>
    
    <!-- Arrow markers -->
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333" />
    </marker>
    <marker id="arrowblue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#5C6BC0" />
    </marker>
    <marker id="arrowred" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#EA4B71" />
    </marker>
    <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#47A248" />
    </marker>
    <marker id="arrowgemini" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#4285F4" />
    </marker>
    <marker id="arroworange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#FF9800" />
    </marker>
  </defs>

  <!-- Titre -->
  <text x="700" y="40" font-family="Arial, sans-serif" font-size="32" font-weight="bold" text-anchor="middle" fill="#1a1a1a">
    Architecture Evidi
  </text>
  <text x="700" y="70" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#666">
    Job Board Platform with AI-Powered CV Analysis
  </text>

  <!-- Users -->
  <g id="users">
    <circle cx="120" cy="250" r="35" fill="#5C6BC0" filter="url(#shadow)"/>
    <circle cx="100" cy="235" r="12" fill="white"/>
    <path d="M 85 255 Q 100 245 115 255 Q 125 270 100 280 Q 75 270 85 255" fill="white"/>
    <text x="120" y="320" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#1a1a1a">Users</text>
  </g>

  <!-- Frontend - React/TypeScript -->
  <g id="frontend">
    <rect x="250" y="180" width="200" height="140" rx="15" fill="url(#reactGrad)" filter="url(#shadow)"/>
    <text x="350" y="230" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="white">React</text>
    <text x="350" y="255" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="white">TypeScript</text>
    <text x="350" y="280" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#E3F2FD">+ Shadcn/UI</text>
    <text x="350" y="300" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#E3F2FD">+ Tailwind CSS</text>
    <text x="350" y="345" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1a1a1a">Frontend</text>
  </g>

  <!-- Backend - FastAPI/Python -->
  <g id="backend">
    <rect x="600" y="180" width="200" height="140" rx="15" fill="url(#fastApiGrad)" filter="url(#shadow)"/>
    <text x="700" y="230" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="white">FastAPI</text>
    <text x="700" y="255" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="white">Python</text>
    <text x="700" y="280" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#E0F2F1">+ Pydantic</text>
    <text x="700" y="300" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#E0F2F1">+ HTTPX</text>
    <text x="700" y="345" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1a1a1a">Backend API</text>
  </g>

  <!-- Database - MongoDB -->
  <g id="database">
    <rect x="1000" y="180" width="200" height="140" rx="15" fill="url(#mongoGrad)" filter="url(#shadow)"/>
    <text x="1100" y="230" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="white">MongoDB</text>
    <text x="1100" y="260" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#E8F5E9">Collections:</text>
    <text x="1100" y="280" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#E8F5E9">• users</text>
    <text x="1100" y="295" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#E8F5E9">• jobs</text>
    <text x="1100" y="310" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#E8F5E9">• filters</text>
    <text x="1100" y="345" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1a1a1a">Database</text>
  </g>

  <!-- N8N Workflow Engine -->
  <g id="n8n">
    <rect x="550" y="450" width="300" height="180" rx="15" fill="url(#n8nGrad)" filter="url(#shadow)"/>
    <text x="700" y="490" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="white">n8n Workflow Engine</text>
    
    <!-- Workflow 1 -->
    <rect x="570" y="505" width="260" height="30" rx="6" fill="white" fill-opacity="0.2"/>
    <text x="700" y="525" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="white">① CV Analysis Pipeline</text>
    
    <!-- Workflow 2 -->
    <rect x="570" y="545" width="260" height="30" rx="6" fill="white" fill-opacity="0.2"/>
    <text x="700" y="565" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="white">② Job Scraping and Matching</text>
    
    <!-- Workflow 3 -->
    <rect x="570" y="585" width="260" height="30" rx="6" fill="white" fill-opacity="0.2"/>
    <text x="700" y="605" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="white">③ Cover Letter Generator</text>
    
    <text x="700" y="650" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1a1a1a">Automation Hub</text>
  </g>

  <!-- Apify Scraping Service -->
  <g id="apify">
    <rect x="950" y="450" width="200" height="90" rx="15" fill="#FF9800" filter="url(#shadow)"/>
    <text x="1050" y="485" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="white">Apify</text>
    <text x="1050" y="510" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="white">RSS Scraping</text>
    <text x="1050" y="528" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#FFF3E0">LinkedIn • Indeed</text>
  </g>

  <!-- Google Gemini AI -->
  <g id="gemini">
    <rect x="550" y="720" width="300" height="140" rx="15" fill="url(#geminiGrad)" filter="url(#shadow)"/>
    <text x="700" y="770" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="white">Google Gemini</text>
    <text x="700" y="795" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="white">LLM API</text>
    <text x="700" y="820" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#E3F2FD">• CV Skills Extraction</text>
    <text x="700" y="838" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#E3F2FD">• Job Matching Score</text>
    <text x="700" y="856" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#E3F2FD">• Cover Letter Writing</text>
    <text x="700" y="900" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1a1a1a">AI Engine</text>
  </g>

  <!-- Vercel Deployment Indicator -->
  <g id="vercel-indicator">
    <rect x="550" y="100" width="140" height="40" rx="8" fill="#000" opacity="0.9"/>
    <text x="620" y="126" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">▲ Vercel</text>
  </g>

  <!-- Arrows and Connections -->
  <!-- User to Frontend -->
  <path d="M 155 250 L 240 250" stroke="#5C6BC0" stroke-width="3" fill="none" marker-end="url(#arrowblue)"/>
  
  <!-- Frontend to Backend (bidirectional) -->
  <path d="M 450 240 L 590 240" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  <path d="M 590 260 L 450 260" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  <text x="520" y="230" font-family="Arial, sans-serif" font-size="12" fill="#666">REST API</text>
  
  <!-- Backend to Database (bidirectional) -->
  <path d="M 800 240 L 990 240" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  <path d="M 990 260 L 800 260" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  <text x="895" y="230" font-family="Arial, sans-serif" font-size="12" fill="#666">PyMongo</text>
  
  <!-- Backend to n8n (webhook) - Workflow 1 -->
  <path d="M 700 320 L 660 440" stroke="#EA4B71" stroke-width="3" fill="none" marker-end="url(#arrowred)" stroke-dasharray="5,5"/>
  <text x="620" y="375" font-family="Arial, sans-serif" font-size="11" fill="#EA4B71">Webhook ①</text>
  <text x="620" y="390" font-family="Arial, sans-serif" font-size="10" fill="#999">/upload-analyze</text>
  
  <!-- Backend to n8n - Workflow 2 (Job Sync) -->
  <path d="M 720 320 L 700 440" stroke="#EA4B71" stroke-width="3" fill="none" marker-end="url(#arrowred)" stroke-dasharray="5,5"/>
  <text x="750" y="375" font-family="Arial, sans-serif" font-size="11" fill="#EA4B71">Webhook ②</text>
  <text x="750" y="390" font-family="Arial, sans-serif" font-size="10" fill="#999">/job-sync</text>
  
  <!-- Backend to n8n - Workflow 3 (Cover Letter) -->
  <path d="M 740 320 L 740 440" stroke="#EA4B71" stroke-width="3" fill="none" marker-end="url(#arrowred)" stroke-dasharray="5,5"/>
  <text x="780" y="375" font-family="Arial, sans-serif" font-size="11" fill="#EA4B71">Webhook ③</text>
  <text x="780" y="390" font-family="Arial, sans-serif" font-size="10" fill="#999">/cover-letter</text>
  
  <!-- n8n to Database -->
  <path d="M 850 540 L 990 320" stroke="#47A248" stroke-width="3" fill="none" marker-end="url(#arrowgreen)"/>
  <text x="920" y="410" font-family="Arial, sans-serif" font-size="11" fill="#47A248">Updates</text>
  <text x="920" y="425" font-family="Arial, sans-serif" font-size="10" fill="#999">users • jobs • letters</text>
  
  <!-- n8n to Gemini -->
  <path d="M 700 630 L 700 710" stroke="#4285F4" stroke-width="3" fill="none" marker-end="url(#arrowgemini)"/>
  <text x="650" y="675" font-family="Arial, sans-serif" font-size="12" fill="#4285F4">AI Requests</text>
  
  <!-- n8n to Apify -->
  <path d="M 850 520 L 940 495" stroke="#FF9800" stroke-width="3" fill="none" marker-end="url(#arroworange)"/>
  <text x="895" y="500" font-family="Arial, sans-serif" font-size="11" fill="#FF9800">Scrape Jobs</text>

  <!-- Data Flow Labels -->
  <g id="flow-labels">
    <!-- Frontend Data -->
    <rect x="250" y="370" width="200" height="60" rx="8" fill="#F5F5F5" stroke="#E0E0E0" stroke-width="2"/>
    <text x="350" y="390" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Sends:</text>
    <text x="350" y="405" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#666">• PDF file upload</text>
    <text x="350" y="420" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#666">• User email</text>

    <!-- N8N Processing - REPOSITIONNÉ -->
    <rect x="200" y="680" width="280" height="160" rx="8" fill="#FFF3E0" stroke="#FFB74D" stroke-width="2"/>
    <text x="340" y="700" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#E65100">n8n Workflows:</text>
    <text x="340" y="720" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">① Extract CV → Parse filters</text>
    <text x="340" y="740" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">② Scrape jobs → Deduplicate</text>
    <text x="340" y="760" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">   → Match score → Store</text>
    <text x="340" y="780" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">③ Retrieve context → Generate</text>
    <text x="340" y="800" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">   cover letter → Save</text>
    <text x="340" y="825" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#999" font-style="italic">+ CV optimization tips</text>
  </g>

  <!-- Legend -->
  <g id="legend">
    <rect x="50" y="900" width="300" height="120" rx="8" fill="white" stroke="#E0E0E0" stroke-width="2" filter="url(#shadow)"/>
    <text x="200" y="925" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Tech Stack</text>
    
    <text x="70" y="950" font-family="Arial, sans-serif" font-size="12" fill="#666">Frontend: React + TypeScript + Vite</text>
    <text x="70" y="970" font-family="Arial, sans-serif" font-size="12" fill="#666">Backend: FastAPI + Python 3.11+</text>
    <text x="70" y="990" font-family="Arial, sans-serif" font-size="12" fill="#666">Database: MongoDB Atlas</text>
    <text x="70" y="1010" font-family="Arial, sans-serif" font-size="12" fill="#666">Deployment: Vercel (Frontend + API)</text>
  </g>

  <!-- Key Features Box - REPOSITIONNÉ -->
  <g id="features">
    <rect x="950" y="680" width="300" height="240" rx="8" fill="white" stroke="#E0E0E0" stroke-width="2" filter="url(#shadow)"/>
    <text x="1100" y="705" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Key Features</text>
    
    <text x="970" y="730" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ AI-powered CV analysis</text>
    <text x="970" y="750" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ Automatic skill extraction</text>
    <text x="970" y="770" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ Intelligent job matching</text>
    <text x="970" y="790" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ RSS job scraping</text>
    <text x="970" y="810" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ Deduplication system</text>
    <text x="970" y="830" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ Matching score algorithm</text>
    <text x="970" y="850" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ Custom cover letter generation</text>
    <text x="970" y="870" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ CV optimization tips</text>
    <text x="970" y="890" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ Scalable workflow architecture</text>
    <text x="970" y="910" font-family="Arial, sans-serif" font-size="12" fill="#666">✓ Real-time job synchronization</text>
  </g>
</svg>